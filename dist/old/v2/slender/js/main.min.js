var slenderApp=function(e,t){var s={init:function(){this.navClicked=!1,this.topNav.init(),this.thinner.init(),this.vibrantColors.init(),this.caseSelect.init()},pageScroll:function(e,t,s){var i=s||0,n=t||null;$("html,body").animate({scrollTop:$(e).offset().top+i},1e3,n)},topNav:{container:t.querySelector(".header-container"),root:t.getElementById("header"),nav:$("#topNav"),navItemSelected:null,scrollTimer:null,init:function(){this.root.addEventListener("click",this.handleTopNav.bind(this),!1),this.setupScroll(),$(e).on("scroll",this.sectionScroll.bind(this)),$(slenderApp).on("pageScroll",this.handleHeaderBackground.bind(this))},handleHeaderBackground:function(e,t){var s=this.container.classList;if(t>0&&!s.contains("color"))s.add("color");else{if(!(40>=t&&s.contains("color")))return;s.remove("color")}},setupScroll:function(){this.menuItems=this.nav.find("a"),this.scrollItems=this.getSections(this.menuItems)},getSections:function(e){return e.map(function(){var e;return"A"===this.tagName&&(e=$($(this).attr("href"))),e.length?e:void 0})},sectionScroll:function(){var t,s,i,n,l,r=this.nav.outerHeight()+15,o=this.scrollItems;this.scrollTimer&&clearTimeout(scrollTimer),scrollTimer=setTimeout(function(){return l=$(e).scrollTop(),s=l+r,$(slenderApp).trigger("pageScroll",l),i=o.map(function(){return $(this).offset().top-88<s?this:void 0}),i=i[i.length-1],n=i&&i.length?i[0].id:"",i&&i.attr("data-no-menu")&&"false"===i.attr("data-enter")&&(slenderApp[n].exec(),i.attr("data-enter","true")),t!==n&&(t=n,this.menuItems.parent().end().filter(".selected").removeClass("selected"),this.menuItems.parent().end().filter("[href='#"+n+"']").addClass("selected")),i&&i.offset&&s>=i.offset().top+i.height()?void this.menuItems.parent().end().filter(".selected").removeClass("selected"):void 0}.bind(this),500)},handleTopNav:function(e){e.preventDefault();var t=e.target;slenderApp.navClicked=!0,t.classList.contains("logo")&&slenderApp.pageScroll("body",function(){slenderApp.navClicked=!1},-78),t.classList.contains("nav-links")&&(this.currentURL=t.getAttribute("href"),slenderApp.pageScroll(this.currentURL,function(){slenderApp.navClicked=!1})),t.classList.contains("buy-btn")&&slenderApp.pageScroll("#caseSelect")}},thinner:{root:t.getElementById("thinner"),init:function(){this.root.addEventListener("click",this.handleEvents,!1),this.initVideo()},initVideo:function(){e.matchMedia&&(mq=e.matchMedia("(min-width: 768px)"),mq.addListener(this.setWidthValue.bind(this)),this.setWidthValue(mq))},setWidthValue:function(e){e.matches?this.showVideo():this.showImage()},showImage:function(){var e=this.root.querySelector(".thinner-img"),t=e.getAttribute("data-src");e.setAttribute("src",t)},showVideo:function(){for(var e,t=this.root.querySelector("#video"),s=this.root.querySelectorAll(".thinner-video"),i=0,n=s.length;n>i;i++)e=s[i].getAttribute("data-src"),s[i].setAttribute("src",e);t.load()},handleEvents:function(e){e.preventDefault();var t=e.target,s=t.classList;for(t.classList.contains("buy-btn")&&slenderApp.pageScroll("#caseSelect");"DIV"!==t.tagName&&!s.contains("explore-link");)t=t.parentNode;t.classList.contains("explore-link")&&slenderApp.pageScroll(t,null,36)}},vibrantColors:{root:t.getElementById("vibrantColors"),init:function(){this.cases=this.root.querySelector("#vibrantCases"),this.cases.addEventListener("click",this.handleClick.bind(this),!1)},exec:function(){for(var e=this.root.querySelectorAll(".vibrant"),t=0,s=e.length;s>t;t++)e[t].classList.add("slide-up")},handleClick:function(e){for(var t,s=e.target;"DIV"!==s.tagName&&!s.classList.contains("vibrant");)s=s.parentNode;t=s.getAttribute("data-color"),slenderApp.caseSelect.setCase(t),slenderApp.pageScroll("#caseSelect")}},caseSelect:{root:t.getElementById("caseSelect"),baseImgURL:"img/caseSelect/",fade:!1,init:function(){this.caseImage=this.root.querySelector("#caseImage"),this.caseSelect=this.root.querySelector("#caseMenu"),this.colorSelect=this.root.querySelector("#colorSelect"),this.labelSelect=this.root.querySelector("#selectLabel"),this.caseSizeSelect=this.root.querySelector("#sizeSelect"),this.caseBtns=this.caseSelect.querySelectorAll(".case-select-btn"),this.caseColors=this.colorSelect.querySelectorAll(".color-select-btn"),this.caseSize=this.caseSizeSelect.querySelectorAll(".phone-icon"),this.render(),this.root.addEventListener("click",this.handleEvents.bind(this),!1)},setCase:function(e){var e=this.colorSelect.querySelector("#"+e);this.setSelectedColor(e)},getSelection:function(e,t,s){var i=null,n=[].slice.call(e);return n.forEach(function(e){e.classList.contains("selected")&&(i=e,t&&e.classList.remove("selected"))}),i.id},setSelectedCase:function(e){this.getSelection(this.caseBtns,"clear"),e.classList.add("selected"),this.render()},getSelectedCase:function(){return this.getSelection(this.caseBtns)},setSelectedColor:function(e){var t=e.getAttribute("data-label");this.getSelection(this.caseColors,"clear"),e.classList.add("selected"),this.setColorLabel(t),this.setCaseMenuColor(t.toLowerCase()),this.render()},setCaseMenuColor:function(e){this.caseSelect.setAttribute("data-color",e)},setColorLabel:function(e){this.labelSelect.innerHTML=e},setPhoneSize:function(e){var t=this.caseSizeSelect.querySelector(".plus");this.getSelection(this.caseSize,"clear"),e.classList.add("selected"),t.classList.toggle("hidden"),this.caseImage.classList.toggle("large"),this.fadeInPhone()},getSelectedColor:function(){return this.getSelection(this.caseColors)},setImage:function(){var e=this.getSelectedCase(),t=this.getSelectedColor(),s=this.caseImage.getAttribute("src"),i=this.baseImgURL+e+"/"+t+".jpg";if(s!==i)return i},fadeInPhone:function(){this.caseImage.classList.remove("fadeIn"),setTimeout(function(){this.caseImage.classList.add("fadeIn")},10)},render:function(){var e=this.setImage();this.fadeInPhone(),e&&(this.caseImage.src=e)},handleEvents:function(e){var t=e.target;e.target.classList.contains("case-select-btn")&&this.setSelectedCase(t),e.target.classList.contains("color-select-btn")&&this.setSelectedColor(t),e.target.classList.contains("phone-icon")&&this.setPhoneSize(t)}}};return s}(window,document);$(document).ready(function(){$("#gallery").slick({lazyLoad:"ondemand",slidesToShow:1,slidesToScroll:1,nextArrow:'<img src="img/right-arrow.svg" class="slide-arrows right" />',prevArrow:'<img src="img/left-arrow.svg" class="slide-arrows left" />'}),slenderApp.init()});
