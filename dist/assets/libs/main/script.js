"use strict";var enter=null,intro=null,cover=null,header=null,menuToggler=null,grid=null,menu=null,content=null,next=null,loaderBar=null,isContent=!1,segmentsCount=6,coverAnim=null,sepText=null,flowImages=null;buildGrid(),buildCover(),iefixes(),introPlay();function init(){enter=document.querySelector(".enter"),intro=document.querySelector(".intro"),cover=document.querySelector(".cover"),header=document.querySelector(".header"),menuToggler=document.querySelector(".menu-toggler"),menu=document.querySelector(".menu"),content=document.querySelector(".content"),next=document.querySelector(".next"),loaderBar=document.querySelector(".hero .scroll-line"),grid=document.querySelector(".grid"),coverAnim=new CoverAnim(".cover-anim"),sepText=new SepText,flowImages=new FlowImages(".flow-images"),events(),setHeader(),entry("[data-entry]")}function entry(a){function b(){c.forEach(function(a){isScrolledIntoView(a)&&(a.classList.add(a.dataset.entry),a.dataset.delay&&a.classList.add(a.dataset.delay))})}var c=document.querySelectorAll(a);b(),document.onscroll=function(){b()}}function setHeader(){document.addEventListener("scroll",function(){header.classList.remove("black","white");var a=document.elementFromPoint(0,50).closest("[data-theme]").dataset.theme;header.classList.add(a)})}function events(){menuToggler.addEventListener("click",function(){if(menuToggler.classList.toggle("active"),menu.classList.toggle("active"),cover.classList.toggle("formenu"),grid.classList.toggle("formenu"),header.classList.remove("black","white"),menuToggler.classList.contains("active"))header.classList.add("white"),cover.classList.add("z-31");else{var a=document.elementFromPoint(0,50).closest("[data-theme]").dataset.theme;header.classList.add(a),setTimeout(function(){cover.classList.remove("z-31")},1500)}isContent&&(menuToggler.classList.contains("active")?next.classList.remove("active"):(content.classList.add("active"),next.classList.add("active")))}),enter.addEventListener("click",function(){goToPage()}),coverAnim.titles.forEach(function(a,b){a.querySelector("a").addEventListener("click",function(a){a.target.classList.add("active"),coverAnim.open(b),isContent=!0,content.classList.add("active"),next.classList.add("active")})})}function isScrolledIntoView(a){var b=a.getBoundingClientRect(),c=b.top,d=b.height,a=a.parentNode;if(0>b.bottom)return!1;if(c>document.documentElement.clientHeight)return!1;if(b=a.getBoundingClientRect(),!1==c<=b.bottom)return!1;if(c+d<=b.top)return!1;for(a=a.parentNode;a!=document.body;)return!0}function checkIntroScroll(){function a(a){a=a||window.event;var b=null;if(b=a.deltaY||a.detail||a.wheelDelta,"touchmove"==a.type){var c=null;c=a.changedTouches[0].clientY,b=d>c?1:-1}0<b?goToPage(1):""}var b=document.querySelector(".intro"),c=!1,d=null;//window.innerWidth > 991 ? isMobile = false : isMobile = true;
b.addEventListener?"onwheel"in document?b.addEventListener("wheel",a):"onmousewheel"in document?b.addEventListener("mousewheel",a):b.addEventListener("MozMousePixelScroll",a):b.attachEvent("onmousewheel",a),b.addEventListener("touchstart",function(a){c=!0,d=a.touches[0].clientY}),b.addEventListener("touchstop",function(){c=!1}),b.addEventListener("touchmove",a)}function goToPage(){intro.classList.add("close"),cover.classList.add("step-1"),cover.classList.add("step-2"),header.classList.add("active"),coverAnim.play()}function buildCover(){var a=document.createElement("div"),b=document.createElement("div");b.classList.add("cover-segment"),a.classList.add("cover"),document.body.appendChild(a);for(var c=0;c<segmentsCount;c++)a.appendChild(b.cloneNode())}function buildGrid(){var a=document.createElement("div"),b=document.createElement("div"),c=[];b.classList.add("grid-line"),a.classList.add("grid"),document.body.appendChild(a);for(var d=0;d<segmentsCount;d++)c.push(b.cloneNode()),a.appendChild(c[d])}function introPlay(){function a(a){return document.querySelector(a)}document.addEventListener("DOMContentLoaded",function(){function b(){k+=1;var a=(100/l*k<<0)+"%";if(f.style.height=a,k===l)return d()}function d(){init(),coverAnim.show(),setTimeout(function(){e.classList.add("d-none"),h.classList.add("active")},500),setTimeout(function(){intro.classList.add("step-1"),f.classList.add("hide"),setTimeout(function(){setTimeout(function(){intro.classList.add("step-2"),sepText.play(),setTimeout(function(){flowImages.show(),checkIntroScroll()},600)},1400)},600)},1e3)}var e=a(".overlay"),f=a(".progress"),g=a(".intro .logo"),h=a(".grid"),j=document.images,k=0,l=j.length;if(0==l)return d();for(var m,n=0;n<l;n++)m=new Image,m.onload=b,m.onerror=b,m.src=j[n].src},!1)}function iefixes(){HTMLElement="undefined"==typeof HTMLElement?Element:HTMLElement,HTMLElement.prototype.prepend=function(a){return this.firstChild?this.insertBefore(a,this.firstChild):this.appendChild(a)},NodeList.prototype.forEach=Array.prototype.forEach,function(a){"function"!=typeof a.matches&&(a.matches=a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||function(a){for(var b=this,c=(b.document||b.ownerDocument).querySelectorAll(a),d=0;c[d]&&c[d]!==b;)++d;return!!c[d]}),"function"!=typeof a.closest&&(a.closest=function(a){for(var b=this;b&&1===b.nodeType;){if(b.matches(a))return b;b=b.parentNode}return null})}(window.Element.prototype),Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var a=this.length-1;0<=a;a--)this[a]&&this[a].parentElement&&this[a].parentElement.removeChild(this[a])},"function"!=typeof Object.assign&&(Object.assign=function(a){'use strict';if(null==a)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var b,c=1;c<arguments.length;c++)if(b=arguments[c],null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a})}